# research.yaml - Research Workflow Recipe
#
# This recipe conducts research on a topic by analyzing the codebase
# and creating a research report with findings.
#
# Usage: goose run --recipe research.yaml

version: "1.0.0"
title: "Research Topic"
description: "Research workflow - analyze codebase and create research report on a topic"

parameters:
  - key: topic
    input_type: string
    requirement: required
    description: "Natural language description of research topic"

  - key: complexity
    input_type: number
    requirement: optional
    default: 2
    description: "Research complexity level (1-4)"

instructions: |
  You are conducting research on the requested topic. Your goal is to analyze
  the codebase and create a comprehensive research report.

  ## Input
  - Topic: {{ topic }}
  - Complexity: {{ complexity }}

  ## Research Steps

  ### Step 1: Understand the Topic
  Analyze the research topic to understand:
  - What specific information is being requested
  - What areas of the codebase to explore
  - What patterns or implementations to look for

  ### Step 2: Explore the Codebase
  Search and analyze relevant code:
  1. Find files related to the topic
  2. Read and understand the implementations
  3. Identify patterns, conventions, and architecture
  4. Note dependencies and relationships

  ### Step 3: Create Research Report
  Document your findings in a structured report:

  **Report Structure**:
  - Executive Summary: Key findings in 2-3 sentences
  - Findings: Detailed analysis with code references
  - Recommendations: Actionable insights based on findings

  **For Each Finding Include**:
  - Description: What you found
  - Location: File paths and line numbers
  - Evidence: Code snippets or examples
  - Impact: Why this matters

  ### Step 4: Output the Report
  Present the complete research report in markdown format.
  Include specific file paths and code references.

prompt: "Research the following topic: {{ topic }}"
